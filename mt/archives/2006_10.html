<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=euc-jp">

<title>blog.bulknews.net: October 2006 Archives</title>

<link rel="stylesheet" href="http://blog.bulknews.net/mt/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://blog.bulknews.net/mt/index.rdf" />
<link rel="start" href="http://blog.bulknews.net/mt/" title="Home" />

<link rel="prev" href="http://blog.bulknews.net/mt/archives/2006_09.html" title="September 2006" />


<link rel="next" href="http://blog.bulknews.net/mt/archives/2006_11.html" title="November 2006" />


<script language="javascript" type="text/javascript">
function OpenComments (c) {
    window.open(c,
                    'comments',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}
</script>

</head>

<body>	

<div id="banner">
<h1><a href="http://blog.bulknews.net/mt/" accesskey="1">blog.bulknews.net</a></h1>
<span class="description">Blogging, RSS Feeds, Perl, Music, Football, Audio & Visual etc.</span>
</div>

<div id="container">

<div class="blog">

<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://blog.bulknews.net/mt/archives/2006_10.html#002076"
    trackback:ping="http://blog.bulknews.net/mt3/mt-tb.cgi/2023"
    dc:title=" Google Mobile supports Mobile Link Discovery"
    dc:identifier="http://blog.bulknews.net/mt/archives/2006_10.html#002076"
    dc:subject=""
    dc:description="ちょっとひさびさの話題になりますが、社内IRC で Google モバイル注: モバイル互換のウェブサイトが既に存在する場合は、変換せずにそのページを直接表示します。 というのは Mobile Link Discovery を見ているのかなぁ？ という話になったので実験。Google モバイルで &quot;bulknews&quot; を検索し、Bulknews.net に link rel=&quot;alternate&quot; media=&quot;handheld&quot; を入れる前後で結果をみてみた。 結果としては、MLD..."
    dc:creator="miyagawa"
    dc:date="2006-10-27T15:52:34+09:00" />
</rdf:RDF>
-->



<h2 class="date">October 27, 2006</h2>


<div class="blogbody">
<a name="002076"></a>
<h3 class="title"> Google Mobile supports Mobile Link Discovery</h3>

<p>ちょっとひさびさの話題になりますが、社内IRC で</p>

<p><a href="http://www.google.co.jp/mobile/faq.html#using3">Google モバイル</a><blockquote>注: モバイル互換のウェブサイトが既に存在する場合は、変換せずにそのページを直接表示します。</blockquote></p>

<p>というのは <a href="http://www.sixapart.jp/docs/tech/mobile_link_discovery_ja.html">Mobile Link Discovery</a> を見ているのかなぁ？ という話になったので実験。Google モバイルで "bulknews" を検索し、<a href="http://bulknews.net/">Bulknews.net</a> に link rel="alternate" media="handheld" を入れる前後で結果をみてみた。</p>

<p>結果としては、MLD タグをいれるときちんとモバイルサイトにリダイレクトされました。Google モバイル側で、リンクをクリックする際に GET を投げて link タグをスキャンしているようですね。Google++!</p>

<p>他にもモバイル検索エンジンで、Mobile Link Discovery を読んでリンクを処理している (consumer) の例があれば教えてほしいです。</p>

<p><strong>UPDATE:</strong> Google Mobile の <a href="http://www.google.com/support/webmasters/bin/answer.py?answer=35312&query=transcode&topic=&type=">英語版FAQ</a> には携帯端末のリダイレクトの仕方ということで Mobile Link Discovery タグが書いてありますね。</p>



<div class="posted">
	Posted by miyagawa at <a href="http://blog.bulknews.net/mt/archives/002076.html">03:52 PM</a>
	
	| <a href="http://blog.bulknews.net/mt/archives/002076.html#comments">Comments (0)</a>
	
	
	| <a href="http://blog.bulknews.net/mt/archives/002076.html#trackbacks">TrackBack (0)</a>
	
</div>

</div>

<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://blog.bulknews.net/mt/archives/2006_10.html#002075"
    trackback:ping="http://blog.bulknews.net/mt3/mt-tb.cgi/2022"
    dc:title="Shibuya.pm Tech Talks #7"
    dc:identifier="http://blog.bulknews.net/mt/archives/2006_10.html#002075"
    dc:subject=""
    dc:description="Shibuya.pm #7 おわりました。お疲れ様でした。 自分は Test::Base についてプレゼン しました。資料アップしときます。ちょっと時間が5分ではおさまらなかったので、もうちょっとしゃべりたいことありましたが、便利そうかな？ というのが伝われば、あとは使ってみてよさがわかるとおもうので、ぜひ使ってもらえるといいかなと思います。あと Ingy の去年のオリジナルなスライドは こちら から。 途中でお知らせしましたが、L-1 ビザを取得して11月からUSのサンフランシスコオフィス勤務となりました。Shibuya.pm のリーダーは竹迫さんに引き継ぎましたが、これからも機会があればリモートなり日本なりで Shibuya.pm には参加したいと思ってます。今後ともよろしく。..."
    dc:creator="miyagawa"
    dc:date="2006-10-21T05:26:19+09:00" />
</rdf:RDF>
-->



<h2 class="date">October 21, 2006</h2>


<div class="blogbody">
<a name="002075"></a>
<h3 class="title">Shibuya.pm Tech Talks #7</h3>

<p>Shibuya.pm #7 おわりました。お疲れ様でした。</p>

<p>自分は <a href="http://blog.bulknews.net/mt/archives/Test-Base.pdf">Test::Base についてプレゼン</a> しました。資料アップしときます。ちょっと時間が5分ではおさまらなかったので、もうちょっとしゃべりたいことありましたが、便利そうかな？ というのが伝われば、あとは使ってみてよさがわかるとおもうので、ぜひ使ってもらえるといいかなと思います。あと Ingy の去年のオリジナルなスライドは <a href="http://yapc.kwiki.org/data-driven-testing/start.html">こちら</a> から。</p>

<p>途中でお知らせしましたが、L-1 ビザを取得して11月からUSのサンフランシスコオフィス勤務となりました。Shibuya.pm のリーダーは竹迫さんに引き継ぎましたが、これからも機会があればリモートなり日本なりで Shibuya.pm には参加したいと思ってます。今後ともよろしく。</p>



<div class="posted">
	Posted by miyagawa at <a href="http://blog.bulknews.net/mt/archives/002075.html">05:26 AM</a>
	
	| <a href="http://blog.bulknews.net/mt/archives/002075.html#comments">Comments (1)</a>
	
	
	| <a href="http://blog.bulknews.net/mt/archives/002075.html#trackbacks">TrackBack (0)</a>
	
</div>

</div>

<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://blog.bulknews.net/mt/archives/2006_10.html#002074"
    trackback:ping="http://blog.bulknews.net/mt3/mt-tb.cgi/2021"
    dc:title="Plagger World Tour in 大阪"
    dc:identifier="http://blog.bulknews.net/mt/archives/2006_10.html#002074"
    dc:subject="perl"
    dc:description="Plagger World Tour in 大阪 ということで、Kansai.pm 第７回ミーティングにゲストスピーカーとして参加します。 日時: 2006年10月17日(火)　18時～21時 会場: デジハリ大阪校 そもそも Plagger World Tour のラップアップを日本でまだやっていないなぁ、と思ってつぶやいていたところ、Kansai.pm の方で反応してもらって、ミーティングをセットアップしてもらうことができました。（ここでも会場手配で協力してもらった幹事マン Thanks です） 関西のほうではこうしたセミナーで話したこともないので、Plagger..."
    dc:creator="miyagawa"
    dc:date="2006-10-07T00:44:05+09:00" />
</rdf:RDF>
-->



<h2 class="date">October 07, 2006</h2>


<div class="blogbody">
<a name="002074"></a>
<h3 class="title">Plagger World Tour in 大阪</h3>

<p><a href="http://kansai.pm.org/cgi-bin/wiki.cgi?page=%A5%A4%A5%D9%A5%F3%A5%C8%2F%C2%E87%B2%F3%A5%DF%A1%BC%A5%C6%A5%A3%A5%F3%A5%B0%B9%F0%C3%CE">Plagger World Tour in 大阪</a> ということで、Kansai.pm 第７回ミーティングにゲストスピーカーとして参加します。</p>

<p>日時: 2006年10月17日(火)　18時～21時<br />
会場: <a href="http://school.dhw.co.jp/location/osaka/">デジハリ大阪校</a></p>

<p>そもそも Plagger World Tour のラップアップを日本でまだやっていないなぁ、と思ってつぶやいていたところ、Kansai.pm の方で反応してもらって、ミーティングをセットアップしてもらうことができました。（ここでも会場手配で協力してもらった幹事マン Thanks です） 関西のほうではこうしたセミナーで話したこともないので、Plagger のイントロから応用まで幅広くしゃべろうと思っています。大阪にかかわらず関西近郊の方はぜひ。</p>

<p>個人的に大阪にいくのも数年ぶりなので楽しみです。10/17 の夕方前に大阪入りして、翌日の昼に帰る予定。</p>



<div class="posted">
	Posted by miyagawa at <a href="http://blog.bulknews.net/mt/archives/002074.html">12:44 AM</a>
	
	| <a href="http://blog.bulknews.net/mt/archives/002074.html#comments">Comments (0)</a>
	
	
	| <a href="http://blog.bulknews.net/mt/archives/002074.html#trackbacks">TrackBack (0)</a>
	
</div>

</div>

<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://blog.bulknews.net/mt/archives/2006_10.html#002073"
    trackback:ping="http://blog.bulknews.net/mt3/mt-tb.cgi/2020"
    dc:title="実践 Ajax を監訳しました"
    dc:identifier="http://blog.bulknews.net/mt/archives/2006_10.html#002073"
    dc:subject=""
    dc:description="実践 Ajax ―Web2.0アプリケーション開発への手引きposted with amazlet on 06.10.06Justin Gehtland Ben Galbraith Dion Almaer 宮川 達彦 加藤 慶彦 オライリー・ジャパン Amazon.co.jp で詳細を見る Pragmatic..."
    dc:creator="miyagawa"
    dc:date="2006-10-06T13:36:50+09:00" />
</rdf:RDF>
-->



<h2 class="date">October 06, 2006</h2>


<div class="blogbody">
<a name="002073"></a>
<h3 class="title">実践 Ajax を監訳しました</h3>

<div class="amazlet-box" style="margin-bottom:0px;"><div class="amazlet-image" style="float:left;"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4873113016/bulknews-22/ref=nosim/" name="amazletlink" target="_blank"><img src="http://images-jp.amazon.com/images/P/4873113016.09.MZZZZZZZ.jpg" alt="実践 Ajax ―Web2.0アプリケーション開発への手引き" style="border: none;" /></a></div><div class="amazlet-info" style="float:left;margin-left:15px;line-height:120%"><div class="amazlet-name" style="margin-bottom:10px;line-height:120%"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4873113016/bulknews-22/ref=nosim/" name="amazletlink" target="_blank">実践 Ajax ―Web2.0アプリケーション開発への手引き</a><div class="amazlet-powered-date" style="font-size:7pt;margin-top:5px;font-family:verdana;line-height:120%">posted with <a href="http://www.amazlet.com/browse/ASIN/4873113016/bulknews-22" title="実践 Ajax ―Web2.0アプリケーション開発への手引き" target="_blank">amazlet</a> on 06.10.06</div></div><div class="amazlet-detail">Justin Gehtland Ben Galbraith Dion Almaer 宮川 達彦 加藤 慶彦 <br />オライリー・ジャパン <br /></div><div class="amazlet-link" style="margin-top: 5px"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4873113016/bulknews-22/ref=nosim/" name="amazletlink" target="_blank">Amazon.co.jp で詳細を見る</a></div></div><div class="amazlet-footer" style="clear: left"></div></div>

<p><a href="http://www.pragmaticprogrammer.com/">Pragmatic Bookshelf</a> からでている Pragmatic Ajax - Web 2.0 Primer の日本語版がオライリージャパンから発売されています。監訳ということで、内容の技術チェックなどのお手伝いをさせてもらいました。</p>

<p>Ajax は JSONRPC や Prototype.js, Dojo などひととおりなめる程度につかったことがある自分にとっては、監訳しながら新しい内容も得られてちょっとオトクな気分でした。日本語ではまだ解説がすくない <a href="http://dojotoolkit.org/">Dojo</a> また Prototype.js や Scrip.taculo.us 、また Rails や PHP などのバックエンドとの透過的なつなぎこみについても章をさいて解説してあってためになります。（<a href="http://www.oreilly.co.jp/books/4873113016/toc.html">目次はこちら</a>)</p>

<p>このような最新技術書の悩みどころとして、出版された同時と現在とで状況が変わっている部分が多かれ少なかれ出てきてしまうのは避けられないですが、気づいた点は訳注などで補足するようにはなっています（ただ、私自身が追いきれていないので完全にはフォロー出来ていないと思います。お気づきの点はオライリージャパンまでフィードバックを送っていただければ助かります）</p>



<div class="posted">
	Posted by miyagawa at <a href="http://blog.bulknews.net/mt/archives/002073.html">01:36 PM</a>
	
	| <a href="http://blog.bulknews.net/mt/archives/002073.html#comments">Comments (0)</a>
	
	
	| <a href="http://blog.bulknews.net/mt/archives/002073.html#trackbacks">TrackBack (0)</a>
	
</div>

</div>

<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://blog.bulknews.net/mt/archives/2006_10.html#002072"
    trackback:ping="http://blog.bulknews.net/mt3/mt-tb.cgi/2019"
    dc:title="HTML::Selector::XPath をリリース"
    dc:identifier="http://blog.bulknews.net/mt/archives/2006_10.html#002072"
    dc:subject="perl"
    dc:description=" CSS Selector in Perl とか subtech - Bulknews::Subtech - CSS selector to XPath あたりで議論していた CSS 2 Selectors to XPath..."
    dc:creator="miyagawa"
    dc:date="2006-10-03T23:36:45+09:00" />
</rdf:RDF>
-->



<h2 class="date">October 03, 2006</h2>


<div class="blogbody">
<a name="002072"></a>
<h3 class="title">HTML::Selector::XPath をリリース</h3>

<div class="section">
	<p><a href="http://use.perl.org/~miyagawa/journal/31090">CSS Selector in Perl</a> とか <a href="http://subtech.g.hatena.ne.jp/miyagawa/20060924/1159089340">subtech - Bulknews::Subtech -  CSS selector to XPath</a> あたりで議論していた CSS 2 Selectors to XPath コンパイラなモジュールをつくって、CPAN に <a href="http://search.cpan.org/dist/HTML-Selector-XPath/">HTML::Selector::XPath</a> としてリリースしました。</p>
	
	<p>使い方は <a href="http://d.hatena.ne.jp/naoya/20061003/1159841119">naoya さんが先に書いてますが</a>、HTML から正規表現を使うことなくスクレイプするのに便利。たとえば Mixi にログインしてマイミク最新日記と、１件目のタイトル、本文を抜き出すコードが、以下のようにかけます。</p>
	
	<pre class="hatena-super-pre">
#!/usr/bin/perl
use strict;
use warnings;
use utf8;
use Encode;
use HTML::Selector::XPath;
use HTML::TreeBuilder::XPath;
use WWW::Mechanize;

binmode STDOUT, &quot;:utf8&quot;;

my $mech = WWW::Mechanize-&gt;new;
$mech-&gt;get(&quot;<a href="http://mixi.jp/&quot;" title="http://mixi.jp/&quot;">http://mixi.jp/&quot;</a>);
$mech-&gt;submit_form(
    fields =&gt; {
        email =&gt; $ARGV[0],
        password =&gt; $ARGV[1],
    },
);

$mech-&gt;get(&quot;<a href="http://mixi.jp/home.pl&quot;" title="http://mixi.jp/home.pl&quot;">http://mixi.jp/home.pl&quot;</a>);
$mech-&gt;get(&quot;<a href="http://mixi.jp/new_friend_diary.pl&quot;" title="http://mixi.jp/new_friend_diary.pl&quot;">http://mixi.jp/new_friend_diary.pl&quot;</a>);

my @nodes = $mech-&gt;xpath(q|//a[@class=&quot;new_link&quot; and contains(@href, &quot;view_diary.pl?id=&quot;)]|);
print map $_-&gt;dump, @nodes;

my $link = URI-&gt;new( $nodes[0]-&gt;attr(&#39;href&#39;), $mech-&gt;url );
$mech-&gt;get($link);

my $author = $mech-&gt;xpath(&#39;//td[contains(@background, &quot;<a href="http://img.mixi.jp/img/bg_w.gif&quot;" title="http://img.mixi.jp/img/bg_w.gif&quot;">http://img.mixi.jp/img/bg_w.gif&quot;</a>)]/b/font[@color=&quot;#605048&quot;]&#39;)-&gt;content-&gt;[0];
$author =~ s/さんの日記$//;
print &quot;Author: $author&#92;n&quot;;

my $title = $mech-&gt;xpath(&#39;//td[@bgcolor=&quot;#FFF4E0&quot; and @width=430]&#39;);
print &quot;Title: &quot;, $title-&gt;content-&gt;[0], &quot;&#92;n&quot;;

my $body = $mech-&gt;selector(&quot;td.h12&quot;);
print map { ref $_ ? $_-&gt;as_HTML : $_ } $body-&gt;content_list;
</pre>
	
	<p>bgcolor とか width とかが変わったら書き直しやん！というツッコミはあると思いますが、正規表現で書くよりはかなり書きやすくなってます。ちなみに WWW::Mechanize::xpath と ::selector は <a href="http://use.perl.org/~miyagawa/journal/31204">use Perl の記事</a> に書いてあります。WWW::Mechanize のプラグインモジュール化する予定。</p>
	
	<p><a href="http://d.hatena.ne.jp/secondlife/20060922/1158923779">ruby のスクレイピングツールキット scrAPI</a> にあるはてなダイアリーキーワードからのスクレイプ例も、</p>
	
	<pre class="hatena-super-pre">
&gt; export URL=<a href="http://d.hatena.ne.jp/keyword/%BA%B0%CC%EE%A4%A2%A4%B5%C8%FE" title="http://d.hatena.ne.jp/keyword/%BA%B0%CC%EE%A4%A2%A4%B5%C8%FE">http://d.hatena.ne.jp/keyword/%BA%B0%CC%EE%A4%A2%A4%B5%C8%FE</a> 
&gt; ~/tmp/selector.pl $URL &quot;span.title &gt; a:first-child&quot;
紺野あさ美 (href=/keyword/%ba%b0%cc%ee%a4%a2%a4%b5%c8%fe?kid=800)
&gt; ~/tmp/selector.pl $URL &quot;span.furigana&quot;
こんのあさみ (class=furigana)
&gt; ~/tmp/selector.pl $URL &quot;ul.list-circle &gt; li:first-child &gt; a&quot;
アイドル (href=/keywordlist?cname=idol)
</pre>
	
	<p>のようにできました。</p>
</div>



<div class="posted">
	Posted by miyagawa at <a href="http://blog.bulknews.net/mt/archives/002072.html">11:36 PM</a>
	
	| <a href="http://blog.bulknews.net/mt/archives/002072.html#comments">Comments (0)</a>
	
	
	| <a href="http://blog.bulknews.net/mt/archives/002072.html#trackbacks">TrackBack (0)</a>
	
</div>

</div>

</div>
</div>
<div id="footer">
<p class="powered">Since 2002.11.28, Tatsuhiko Miyagawa <a href="mailto:miyagawa&#64;bulknews.net">&lt;miyagawa&#64;bulknews.net&gt;</a>. Powered by <a href="http://www.movabletype.org/">MT 3.2</a></p>
<script type='text/javascript' src='http://track.mybloglog.com/js?mblID=2005030709374275'></script>
</div>

</body>
</html>
